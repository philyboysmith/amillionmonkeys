!function(t){var e="carousel",a="."+e,n=e+"-no-transition",o=/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,i={_dragBehavior:function(){var o=t(this),i,r={},s,c,h,u=function(e){var n=e.touches||e.originalEvent.touches,o=t(e.target).closest(a);"touchstart"===e.type&&(i={x:n[0].pageX,y:n[0].pageY}),h=!1,n[0]&&n[0].pageX&&(r.touches=n,r.deltaX=n[0].pageX-i.x,r.deltaY=n[0].pageY-i.y,r.w=o.width(),r.h=o.height(),r.xPercent=r.deltaX/r.w,r.yPercent=r.deltaY/r.h,r.srcEvent=e)},d=function(n){u(n),1===r.touches.length&&t(n.target).closest(a).trigger(e+".drag"+n.type.split("touch")[1],r)};t(this).bind("touchstart",function(e){t(this).addClass(n),d(e)}).bind("touchmove",function(t){Math.abs(r.deltaX)>10?t.preventDefault():Math.abs(r.deltaY)>3&&(h=!0),h||(u(t),d(t))}).bind("touchend",function(e){t(this).removeClass(n),d(e)})}};t.extend(t.fn[e].prototype,i),t(document).on("create."+e,a,function(){t(this)[e]("_dragBehavior")})}(jQuery);
